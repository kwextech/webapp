{% extends 'base.html' %}
{% load static %}
{% block title %}Echelonglobe - Sign in{% endblock %}
{% block body %}

<div class="container-fluid bg-on-surface">
    <form method="post">
        {% csrf_token %}
        <div class="form-bg ">
            <div class="form mt-5 px-4">
                <p class="form-text">SIGN IN</p>
                {% if form.errors %}
                <div class="errors" style= "border: 2px solid orangered; padding: 10px;">
                    <center><p style="color: orangered;">Username or password incorrect try again.</p></center>
                </div>
                <br>
                {% endif %}
                {% for message in messages %}
                <div style="border: 2px solid greenyellow; padding: 10px;color: greenyellow;" >
                    {{message}}
                </div>
                {% endfor %}
    
                <div class="mb-3 ">
                    <label for="exampleFormControlInput1" class="form-label">{{form.username.label_tag}}</label>
                    <div class="input-group mb-3">
                        {{form.username}}
                    </div>
                </div>
    
                <div class="mb-3">
                    <label for="exampleFormControlInput1" class="form-label">{{form.password.label_tag}}</label>
                    <div class="input-group mb-3">
                        {{form.password}}<i id="eyes1" class="fas fa-eye"></i>
                    </div>
                </div>
    
                <button type="submit" class="btn bg-orange w-100 mt-3">Sign in</button>
    
                <p class="mt-3 text">Don't have an account? <a href="{% url 'register' %}" style="color: orange;">Sign up</a></p>
                <p class="mt-3 text">Forgotten password? <a href="{% url 'reset_password' %}" style="color: orange;">reset</a></p>
            </div>
        </div>
    
    </form>    
</div>

<script>
    const hidebtn = document.getElementById('eyes1');
    const password =  document.getElementById('id_password')
    
    

    var clicked = false

    hidebtn.addEventListener('click', ()=>{
    if (clicked == false){
        password.type='text'
        hidebtn.classList.remove('fa-eye')
        hidebtn.classList.add('fa-eye-slash')
        clicked = true
    }
    else{
        password.type='password'
        hidebtn.classList.remove('fa-eye-slash')
        hidebtn.classList.add('fa-eye')
        clicked = false
    }  
    })

</script>



{% endblock %}